package mulinv

import (
	"math/big"
	"testing"
)

func TestMultiplicativeInverse(t *testing.T) {
	test := func(a *big.Int, b *big.Int, expected string) {
		result := MultiplicativeInverse(a, b).String()
		if result != expected {
			t.Errorf("Failed. MultiplicativeInverse(%v, %v) = %v. Expected %v", a, b, result, expected)
		}
	}

	test(big.NewInt(42), big.NewInt(2017), "1969")
	test(big.NewInt(40), big.NewInt(1), "0")
	test(big.NewInt(52), big.NewInt(-217), "96")
	test(big.NewInt(-486), big.NewInt(217), "121")
	test(big.NewInt(40), big.NewInt(2018), "-1")

	// big numbers!
	a, _ := big.NewInt(0).SetString("30713072986648264248887166562070032015009664848407762883676096376693608094600388616944018571146254527268029398244351606463192938277198713517319816096235359203163502851757659412432223286716207261901805", 10)
	b, _ := big.NewInt(0).SetString("13347016516080062149846863675764710368789128318419870672963883564813210964555745736325457403042511985154368512351877417728615726722183330041573196309258142", 10)
	test(a, b, "3275913053044795228632549612446030751489177482829373200594611148921570209553382465050145163963136382997959378895082965065022886276056181027187071322752653")
}
